{% extends 'base.html.twig' %}

{% block title %}Mon compte{% endblock %}

{% block body %}
<div class="container mx-auto py-8">
    <h1 class="text-4xl font-bold text-center mb-8">Mon compte</h1>

    {% for message in app.flashes('success') %}
        <div class="bg-green-500 text-white p-4 mb-4 rounded-lg">
            {{ message }}
        </div>
    {% endfor %}

    {{ form_start(accountForm, {'attr': {'class': 'max-w-lg mx-auto bg-white p-8 rounded-lg shadow-lg'}}) }}
        <div class="mb-4">
            {{ form_label(accountForm.email, null, {'label_attr': {'class': 'block text-sm font-bold'}}) }}
            {{ form_widget(accountForm.email, {'attr': {'class': 'w-full border border-gray-300 p-2 rounded-lg'}}) }}
            {{ form_errors(accountForm.email, {'attr': {'class': 'text-red-600 text-sm'}}) }}
        </div>
        <div class="mb-4">
            {{ form_label(accountForm.firstname, null, {'label_attr': {'class': 'block text-sm font-bold'}}) }}
            {{ form_widget(accountForm.firstname, {'attr': {'class': 'w-full border border-gray-300 p-2 rounded-lg'}}) }}
            {{ form_errors(accountForm.firstname, {'attr': {'class': 'text-red-600 text-sm'}}) }}
        </div>
        <div class="mb-4">
            {{ form_label(accountForm.lastname, null, {'label_attr': {'class': 'block text-sm font-bold'}}) }}
            {{ form_widget(accountForm.lastname, {'attr': {'class': 'w-full border border-gray-300 p-2 rounded-lg'}}) }}
            {{ form_errors(accountForm.lastname, {'attr': {'class': 'text-red-600 text-sm'}}) }}
        </div>
        <div class="mb-4">
            {{ form_label(accountForm.currentPassword, null, {'label_attr': {'class': 'block text-sm font-bold'}}) }}
            {{ form_widget(accountForm.currentPassword, {'attr': {'class': 'w-full border border-gray-300 p-2 rounded-lg'}}) }}
            {{ form_errors(accountForm.currentPassword, {'attr': {'class': 'text-red-600 text-sm'}}) }}
        </div>
        <div class="mb-4">
            {{ form_label(accountForm.plainPassword, 'Nouveau mot de passe', {'label_attr': {'class': 'block text-sm font-bold'}}) }}
            {{ form_widget(accountForm.plainPassword, {'attr': {'class': 'w-full border border-gray-300 p-2 rounded-lg'}}) }}
            <p class="text-gray-600 text-sm">Laissez vide si vous ne souhaitez pas changer de mot de passe</p>
            {{ form_errors(accountForm.plainPassword, {'attr': {'class': 'text-red-600 text-sm'}}) }}
        </div>
        <button type="submit" class="w-full bg-red-600 text-white p-2 rounded-lg hover:bg-red-700">Mettre à jour</button>
        <a href="{{ path('app_logout') }}" class="block text-center mt-4 text-red-600 hover:text-red-700">Déconnexion</a>
    {{ form_end(accountForm) }}

</div>
{% endblock %}
